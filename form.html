<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    <h2>Student Details</h2>

  <form  action="" id="studentForm" class="row justify-content-center mb-4">
    <label >Name:</label>
    <input type="text" id="name"class="form-control"id="name" placeholder="Name" required>
    <br><br>
    <label>Department:</label>
    <input type="text" id="department"class="form-control" id="department" placeholder="Department"required>
    <br><br>
    <label>Year:</label>
    <input type="text"id="year"class="form-control" id="year"placeholder="Year" required>
    <br><br>
    <label >Contact Number:</label>
    <input type="text" id="contactnumber"class="form-control"id="contactnumber" placeholder="Contactnumber"required>
    <br><br>
    <label >Palm print:</label>
    <input type="file" class="form-control"id="photo" accept="image/*" required>
    <br><br>
    <button onclick="submitform()" type="submit" >Submit</button>
  </form>
 

  <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.7/firebase-database.js"></script>

  <script>
    const firebaseConfig = {
          apiKey: "AIzaSyAk0foljioWF7Yde0GihotbmzW_bUxLPlw",
          authDomain: "registrationform-e4460.firebaseapp.com",
          projectId: "registrationform-e4460",
          storageBucket: "registrationform-e4460.appspot.com",
          messagingSenderId: "899025377950",
          appId: "1:899025377950:web:d9d3fb4b97edb022aab98f",
          measurementId: "G-HJPSD2JERL"
        };

    function submitform(){
      window.location.href="table.html";
    }
       
    firebase.initializeApp(firebaseConfig);
    const formDB = firebase.database().ref('theForm');
    document.getElementById('studentForm').addEventListener("submit", submitForm);

    function submitForm(e) {
      e.preventDefault();
      var name = getElementval('name');
      var department = getElementval('department');
      var year = getElementval('year');
      var contactnumber = getElementval('contactnumber');

      savemsg(name, department, year, contactnumber);
    }

    const savemsg = (name, department, year, contactnumber) => {
      var newform = formDB.push();
      newform.set({
        name: name,
        department: department,
        year: year,
        contactnumber: contactnumber
      });
    };

    const getElementval = (id) => {
      return document.getElementById(id).value;
    };
  </script>
</body>
</html>